/*!
 * carrier - Carrier v0.0.1 - 2016-02-05 18:00:36
 */
!function(){"use strict";window.mg||(window.mg={});var a=window.mg,b={D2R:.0174532925199,R2D:57.2957795131,norm:function(a,b,c){return(a-b)/(c-b)},lerp:function(a,b,c){return(c-b)*a+b},map:function(a,c,d,e,f){return b.lerp(b.norm(a,c,d),e,f)},clamp:function(a,b,c){return b=Math.min(b,c),c=Math.max(b,c),Math.min(Math.max(a,b),c)},distance:function(a,b){var c=b.x-a.x,d=b.y-a.y;return Math.sqrt(c*c+d*d)},distanceXY:function(a,b,c,d){var e=c-a,f=d-b;return Math.sqrt(e*e+f*f)},roundToPlaces:function(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c},roundToShift:function(a,b){var c=1<<b;return Math.round(a*c)>>b},roundNearest:function(a,b){return Math.round(a/b)*b},randomRange:function(a,b){return a+Math.random()*(b-a)},randomInt:function(a,b){return Math.floor(a+Math.random()*(b-a+1))},randomDist:function(a,c,d){for(var e=0,f=0;d>e;e++)f+=b.randomRange(a,c);return f/d},circleCollision:function(a,c){return b.distance(a,c)<a.radius+c.radius},circlePointCollision:function(a,c,d){return b.distanceXY(a,c,d.x,d.y)<d.radius},pointInRect:function(a,c,d){return b.inRange(a,d.x,d.x+d.width)&&b.inRange(c,d.y,d.y+d.height)},inRange:function(a,b,c){return b=Math.min(b,c),c=Math.max(b,c),a>=b&&c>=a},rangeIntersect:function(a,b,c,d){return a=Math.min(a,b),b=Math.max(a,b),c=Math.min(c,d),d=Math.max(c,d),b>=c&&d>=a},rectIntersect:function(a,c){return b.rangeIntersect(a.x,a.x+a.width,c.x,c.x+c.width)&&b.rangeIntersect(a.y,a.y+a.height,c.y,c.y+c.height)}};a.Maths=b;var c=function(a,b){this.x=a||0,this.y=b||0};c.prototype={constructor:c,add:function(a){return new c(this.x+a.x,this.y+a.y)},subtract:function(a){return new c(this.x-a.x,this.y-a.y)},multiply:function(a){return new Vector3(this.x*a,this.y*a)},divide:function(a){return new Vector3(this.x/a,this.y/a)},addTo:function(a){this.x+=a.x,this.y+=a.y},subtractFrom:function(a){this.x-=a.x,this.y-=a.y},multiplyBy:function(a){this.x*=a,this.y*=a},divideBy:function(a){this.x/=a,this.y/=a},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(a){var b=this.getAngle();this.x=Math.cos(b)*a,this.y=Math.sin(b)*a},getAngle:function(){return Math.atan2(this.y,this.x)},setAngle:function(a){var b=this.getLength();this.x=Math.cos(a)*b,this.y=Math.sin(a)*b},normalize:function(){var a=this.getLength();return this.x/=a,this.y/=a,this},equals:function(a){return this.x===a.x&&this.y===a.y},clone:function(){return new c(this.x,this.y)},toString:function(){return"Vector2("+this.x+","+this.y+")"}},a.Vector2=c;var d=function(a,b,d,e){a||(a=new c(0,0)),this.position=a.clone(),this.velocity=new c(0,0),this.gravity=new c(0,e||0),this.friction=1,this.radius=0,this.alpha=.5,this.bounce=-1,this.setSpeed(b),this.setDirection(d)};d.prototype={constructor:d,accelerate:function(a){this.velocity.addTo(a)},getSpeed:function(){return this._speed},setSpeed:function(a){this._speed=a||0,this.velocity.setLength(this._speed)},getDirection:function(){return this._direction},setDirection:function(a){this._direction=a||0,this.velocity.setAngle(this._direction)},update:function(){this.velocity.multiplyBy(this.friction),this.velocity.addTo(this.gravity),this.position.addTo(this.velocity)}},a.Carrier=d;var e=function(a,b,c){d.call(this,c.position,c.speed,c.direction,c.gravity),this.color=a||"#000000",this.radius=b||50};e.prototype=new d,e.prototype.constructor=e,e.prototype.render=function(a){this.update(),this._context=a,this._context.save(),this._context.globalAlpha=this.alpha,this._drawCircle(this.position,this.radius,this.color),this._context.restore()},e.prototype.getRenderTarget=function(){return this._context},e.prototype._drawCircle=function(a,b,c){var d=this.getRenderTarget();d.beginPath(),d.arc(a.x,a.y,b,0,2*Math.PI,!1),d.fillStyle=c,d.fill(),d.closePath()},a.CircleCarrier=e;var f=function(a,b,c,e){d.call(this,e.position,e.speed,e.direction,e.gravity),this.text=a||"untitle",this.textSize=b||12,this.textColor=c||"#000000",this.fontName="NanumMyeongjo"};f.prototype=new d,f.prototype.constructor=f,f.prototype.render=function(a){this.update(),this._context=a,this._context.save(),this._context.globalAlpha=this.alpha,this._drawText(this.position,this.text,this.textSize,this.textColor),this._context.restore()},f.prototype.getRenderTarget=function(){return this._context},f.prototype.getWidth=function(){return this._width},f.prototype._drawText=function(a,b,c,d){var e=this.getRenderTarget();e.beginPath(),e.translate(a.x,a.y),e.font=c+"px "+this.fontName,e.textAlign="center";e.measureText(b).width;e.fillStyle=d,e.fillText(b,0,0),e.closePath()},a.TextCarrier=f}();